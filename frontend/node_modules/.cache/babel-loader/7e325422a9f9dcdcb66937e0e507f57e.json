{"ast":null,"code":"var _jsxFileName = \"E:\\\\Academics CSEDU\\\\3-2\\\\Design Lab\\\\Project\\\\Pink\\\\frontend\\\\src\\\\Components\\\\dashboard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ComplainRow from \"./complainRow\";\nimport ReviewComplainRow from \"./reviewComplainRow\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLock, faUserLock } from \"@fortawesome/free-solid-svg-icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const token = localStorage.getItem(\"userUNID\");\n  const [name, setName] = useState(\"\");\n  const [nsuId, setNsuId] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [designation, setDesignation] = useState(\"\");\n  const [complainList, setComplainList] = useState([]);\n  const [reviewComplainList, setReviewComplainList] = useState([]);\n  const [reviewedComplainList, setReviewedComplainList] = useState([]);\n  const [myComplainsSelectedClass, setMyComplainSelectedClass] = useState(\"btn-light card-shadow\");\n  const [reviewComplainSelectedClass, setReviewComplainSelectedClass] = useState(\"\");\n  const [reviewedComplainSelectedClass, setReviewedComplainSelectedClass] = useState(\"\");\n  const [isReviewer, setIsReviewer] = useState(false);\n  useEffect(() => {\n    async function fetchData() {\n      console.log(token);\n\n      if (!token) {\n        console.log(\"aise\");\n        window.location.replace(\"http://localhost:3000\");\n        return;\n      }\n\n      let response = await axios.get(\"http://localhost:8000/home/user-details\", {\n        params: {\n          userUNID: token\n        }\n      });\n      let openComplain = [];\n      let closeComplain = [];\n      setName(response.data.data.fullName);\n      setNsuId(response.data.data.nsuId);\n      setEmail(response.data.data.email);\n      setDesignation(response.data.data.userType);\n      setComplainList(response.data.data.Complains);\n      response.data.data.ComplainReviewers.map(i => {\n        i.Complain.status == \"Open\" ? openComplain.push(i) : closeComplain.push(i);\n      });\n      setReviewComplainList(openComplain);\n      setReviewedComplainList(closeComplain);\n      setIsReviewer(response.data.data.actorType == \"Reviewer\" ? true : false);\n    }\n\n    fetchData();\n  }, []);\n\n  if (!token) {\n    window.location.replace(\"http://localhost:3000\");\n  }\n\n  const handleLogOutButton = () => {\n    localStorage.clear();\n    window.location.replace(\"http://localhost:3000\");\n  };\n\n  const myComplainsButtonClicked = () => {\n    setMyComplainSelectedClass(\"btn-light card-shadow\");\n    setReviewComplainSelectedClass(\"\");\n    setReviewedComplainSelectedClass(\"\");\n  };\n\n  const reviewComplainButtonClicked = () => {\n    setMyComplainSelectedClass(\"\");\n    setReviewedComplainSelectedClass(\"\");\n    setReviewComplainSelectedClass(\"btn-light card-shadow\");\n  };\n\n  const reviewedComplainButtonClicked = () => {\n    setMyComplainSelectedClass(\"\");\n    setReviewComplainSelectedClass(\"\");\n    setReviewedComplainSelectedClass(\"btn-light card-shadow\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"flex-grow-1 background-color d-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-4 border border-5 border-white rounded-3 my-4 ms-4 card-shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"d-flex flex-column align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: require(\"../Assets/User-Profile.png\"),\n                alt: \"\",\n                height: \"150\",\n                class: \"d-inline-block align-text-top mt-5 align-items-center justify-content-center\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"mt-3\",\n              children: [\"Name: \", name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"mt-3\",\n              children: [\"NSU ID: \", nsuId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"mt-3\",\n              children: [\"Email: \", email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"mt-3\",\n              children: [\"Designation: \", designation]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-block mt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary my-2 ms-4 ms-lg-0 me-5 w-100\",\n                onClick: handleLogOutButton,\n                children: \"Log out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-7 my-4 ms-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-lg \" + myComplainsSelectedClass,\n              onClick: myComplainsButtonClicked,\n              children: \"My Complain(s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-lg \" + reviewComplainSelectedClass,\n              disabled: !isReviewer,\n              onClick: reviewComplainButtonClicked,\n              children: [\"Review Complain(s)\", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ms-2 d-\" + (isReviewer ? \"none\" : \"inline\"),\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faLock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-lg \" + reviewedComplainSelectedClass,\n              disabled: !isReviewer,\n              onClick: reviewedComplainButtonClicked,\n              children: [\"Reviewed Complain(s)\", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ms-2 d-\" + (isReviewer ? \"none\" : \"inline\"),\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faLock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-100 flex-column d-\" + (!myComplainsSelectedClass ? \"none\" : \"flex\"),\n              children: complainList.length != 0 ? complainList.map(e => /*#__PURE__*/_jsxDEV(ComplainRow, {\n                complain: e\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 43\n              }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n                class: \"pt-4 \",\n                children: \"No Complain Lodged\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-100 flex-column d-\" + (!reviewComplainSelectedClass ? \"none\" : \"flex\"),\n              children: reviewComplainList.length != 0 ? reviewComplainList.map(e => /*#__PURE__*/_jsxDEV(ReviewComplainRow, {\n                complain: e\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n                class: \"pt-4 \",\n                children: \"No Complain to Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-100 flex-column d-\" + (!reviewedComplainSelectedClass ? \"none\" : \"flex\"),\n              children: reviewedComplainList.length != 0 ? reviewedComplainList.map(e => /*#__PURE__*/_jsxDEV(ReviewComplainRow, {\n                complain: e\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n                class: \"pt-4 \",\n                children: \"No Complain Reviewed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Dashboard, \"PjDsruZRzSizTYQQwHieVKRzKA8=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["E:/Academics CSEDU/3-2/Design Lab/Project/Pink/frontend/src/Components/dashboard.jsx"],"names":["React","useState","useEffect","axios","ComplainRow","ReviewComplainRow","FontAwesomeIcon","faLock","faUserLock","Dashboard","token","localStorage","getItem","name","setName","nsuId","setNsuId","email","setEmail","designation","setDesignation","complainList","setComplainList","reviewComplainList","setReviewComplainList","reviewedComplainList","setReviewedComplainList","myComplainsSelectedClass","setMyComplainSelectedClass","reviewComplainSelectedClass","setReviewComplainSelectedClass","reviewedComplainSelectedClass","setReviewedComplainSelectedClass","isReviewer","setIsReviewer","fetchData","console","log","window","location","replace","response","get","params","userUNID","openComplain","closeComplain","data","fullName","userType","Complains","ComplainReviewers","map","i","Complain","status","push","actorType","handleLogOutButton","clear","myComplainsButtonClicked","reviewComplainButtonClicked","reviewedComplainButtonClicked","require","length","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport ComplainRow from \"./complainRow\";\r\nimport ReviewComplainRow from \"./reviewComplainRow\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faLock, faUserLock } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Dashboard() {\r\n  const token = localStorage.getItem(\"userUNID\");\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [nsuId, setNsuId] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [designation, setDesignation] = useState(\"\");\r\n  const [complainList, setComplainList] = useState([]);\r\n  const [reviewComplainList, setReviewComplainList] = useState([]);\r\n  const [reviewedComplainList, setReviewedComplainList] = useState([]);\r\n  const [myComplainsSelectedClass, setMyComplainSelectedClass] = useState(\r\n    \"btn-light card-shadow\"\r\n  );\r\n  const [reviewComplainSelectedClass, setReviewComplainSelectedClass] =\r\n    useState(\"\");\r\n  const [reviewedComplainSelectedClass, setReviewedComplainSelectedClass] =\r\n    useState(\"\");\r\n\r\n  const [isReviewer, setIsReviewer] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      console.log(token);\r\n      if (!token) {\r\n        console.log(\"aise\")\r\n        window.location.replace(\"http://localhost:3000\");\r\n        return;\r\n      }\r\n      let response = await axios.get(\r\n        \"http://localhost:8000/home/user-details\",\r\n        {\r\n          params: {\r\n            userUNID: token,\r\n          },\r\n        }\r\n      );\r\n      let openComplain = [];\r\n      let closeComplain = [];\r\n      setName(response.data.data.fullName);\r\n      setNsuId(response.data.data.nsuId);\r\n      setEmail(response.data.data.email);\r\n      setDesignation(response.data.data.userType);\r\n      setComplainList(response.data.data.Complains);\r\n      response.data.data.ComplainReviewers.map((i) => {\r\n        i.Complain.status == \"Open\"\r\n          ? openComplain.push(i)\r\n          : closeComplain.push(i);\r\n      });\r\n      setReviewComplainList(openComplain);\r\n      setReviewedComplainList(closeComplain);\r\n      setIsReviewer(response.data.data.actorType == \"Reviewer\" ? true : false);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (!token) {\r\n    window.location.replace(\"http://localhost:3000\");\r\n  }\r\n\r\n  const handleLogOutButton = () => {\r\n    localStorage.clear();\r\n    window.location.replace(\"http://localhost:3000\");\r\n  };\r\n\r\n  const myComplainsButtonClicked = () => {\r\n    setMyComplainSelectedClass(\"btn-light card-shadow\");\r\n    setReviewComplainSelectedClass(\"\");\r\n    setReviewedComplainSelectedClass(\"\");\r\n  };\r\n\r\n  const reviewComplainButtonClicked = () => {\r\n    setMyComplainSelectedClass(\"\");\r\n    setReviewedComplainSelectedClass(\"\");\r\n    setReviewComplainSelectedClass(\"btn-light card-shadow\");\r\n  };\r\n\r\n  const reviewedComplainButtonClicked = () => {\r\n    setMyComplainSelectedClass(\"\");\r\n    setReviewComplainSelectedClass(\"\");\r\n    setReviewedComplainSelectedClass(\"btn-light card-shadow\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div class=\"flex-grow-1 background-color d-flex\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-4 border border-5 border-white rounded-3 my-4 ms-4 card-shadow\">\r\n              <div class=\"d-flex flex-column align-items-center\">\r\n                <img\r\n                  src={require(\"../Assets/User-Profile.png\")}\r\n                  alt=\"\"\r\n                  height=\"150\"\r\n                  class=\"d-inline-block align-text-top mt-5 align-items-center justify-content-center\"\r\n                ></img>\r\n              </div>\r\n              <h5 class=\"mt-3\">Name: {name}</h5>\r\n              <h5 class=\"mt-3\">NSU ID: {nsuId}</h5>\r\n              <h5 class=\"mt-3\">Email: {email}</h5>\r\n              <h5 class=\"mt-3\">Designation: {designation}</h5>\r\n              <div className=\"d-block mt-4\">\r\n                <button\r\n                  className=\"btn btn-primary my-2 ms-4 ms-lg-0 me-5 w-100\"\r\n                  onClick={handleLogOutButton}\r\n                >\r\n                  Log out\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 my-4 ms-4\">\r\n              <button\r\n                type=\"button\"\r\n                class={\"btn btn-lg \" + myComplainsSelectedClass}\r\n                onClick={myComplainsButtonClicked}\r\n              >\r\n                My Complain(s)\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class={\"btn btn-lg \" + reviewComplainSelectedClass}\r\n                disabled={!isReviewer}\r\n                onClick={reviewComplainButtonClicked}\r\n              >\r\n                Review Complain(s)\r\n                <i className={\"ms-2 d-\" + (isReviewer ? \"none\" : \"inline\")}>\r\n                  <FontAwesomeIcon icon={faLock} />\r\n                </i>\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class={\"btn btn-lg \" + reviewedComplainSelectedClass}\r\n                disabled={!isReviewer}\r\n                onClick={reviewedComplainButtonClicked}\r\n              >\r\n                Reviewed Complain(s)\r\n                <i className={\"ms-2 d-\" + (isReviewer ? \"none\" : \"inline\")}>\r\n                  <FontAwesomeIcon icon={faLock} />\r\n                </i>\r\n              </button>\r\n\r\n              <div\r\n                className={\r\n                  \"h-100 flex-column d-\" +\r\n                  (!myComplainsSelectedClass ? \"none\" : \"flex\")\r\n                }\r\n              >\r\n                {complainList.length != 0 ? (\r\n                  complainList.map((e) => <ComplainRow complain={e} />)\r\n                ) : (\r\n                  <h1 class=\"pt-4 \">No Complain Lodged</h1>\r\n                )}\r\n              </div>\r\n              <div\r\n                className={\r\n                  \"h-100 flex-column d-\" +\r\n                  (!reviewComplainSelectedClass ? \"none\" : \"flex\")\r\n                }\r\n              >\r\n                {reviewComplainList.length != 0 ? (\r\n                  reviewComplainList.map((e) => (\r\n                    <ReviewComplainRow complain={e} />\r\n                  ))\r\n                ) : (\r\n                  <h1 class=\"pt-4 \">No Complain to Review</h1>\r\n                )}\r\n              </div>\r\n\r\n              <div\r\n                className={\r\n                  \"h-100 flex-column d-\" +\r\n                  (!reviewedComplainSelectedClass ? \"none\" : \"flex\")\r\n                }\r\n              >\r\n                {reviewedComplainList.length != 0 ? (\r\n                  reviewedComplainList.map((e) => (\r\n                    <ReviewComplainRow complain={e} />\r\n                  ))\r\n                ) : (\r\n                  <h1 class=\"pt-4 \">No Complain Reviewed</h1>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}