{"ast":null,"code":"var _jsxFileName = \"E:\\\\Academics CSEDU\\\\3-2\\\\Design Lab\\\\Moumi\\\\NSU-Complaint-Lodge-System\\\\Project\\\\frontend\\\\src\\\\Components\\\\emailVerified.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EmailVerified() {\n  _s();\n\n  const [text, setText] = useState(\"\");\n  const [buttonVisibility, setButtonVisibility] = useState(\"\");\n  const {\n    verificationToken\n  } = useParams();\n\n  const handleResendLinkButton = async function (e) {\n    e.preventDefault();\n    let response = await axios.post(\"http://localhost:8000/auth/resend-link\", {\n      verificationToken: verificationToken\n    });\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      console.log(verificationToken);\n      console.log(\"Lola\");\n      let response = await axios.post(\"http://localhost:8000/auth/verify-verification-token\", {\n        verificationToken: verificationToken\n      });\n\n      if (response.data.error == \"Invalid verification token\") {\n        window.location.replace(\"http://localhost:3000\");\n      } else if (response.data.error) {\n        setButtonVisibility(\"block\");\n        setText(response.data.error);\n      } else {\n        setButtonVisibility(\"none\");\n        setText(response.data.data);\n      }\n\n      response = await axios.get(\"http://localhost:8000/auth/verify-email/\" + verificationToken);\n    }\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"flex-grow-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h1 p-4 text-center\",\n        children: [\" \", text]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn btn-primary btn-lg col-2 mx-auto fw-bold d-\" + buttonVisibility,\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": \"#exampleModal\",\n        onClick: handleResendLinkButton,\n        children: \"Resend link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"modal fade\",\n      \"data-bs-backdrop\": \"static\",\n      \"data-bs-keyboard\": \"false\",\n      id: \"exampleModal\",\n      tabindex: \"-1\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal-dialog modal-dialog-centered\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"modal-title\",\n              id: \"exampleModalLabel\",\n              children: \"Resend link successfully!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn-close\",\n              \"data-bs-dismiss\": \"modal\",\n              \"aria-label\": \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-body\",\n            children: \"Please check your email.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-primary\",\n              href: \"/login\",\n              children: \"Ok\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EmailVerified, \"mgS/cI8R9lk3nigQywFCkGFO5Ag=\", false, function () {\n  return [useParams];\n});\n\n_c = EmailVerified;\nexport default EmailVerified;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailVerified\");","map":{"version":3,"sources":["E:/Academics CSEDU/3-2/Design Lab/Moumi/NSU-Complaint-Lodge-System/Project/frontend/src/Components/emailVerified.jsx"],"names":["axios","React","useState","useEffect","useParams","EmailVerified","text","setText","buttonVisibility","setButtonVisibility","verificationToken","handleResendLinkButton","e","preventDefault","response","post","fetchData","console","log","data","error","window","location","replace","get"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction EmailVerified() {\r\n  const [text, setText] = useState(\"\");\r\n  const [buttonVisibility, setButtonVisibility] = useState(\"\");\r\n  const { verificationToken } = useParams();\r\n  const handleResendLinkButton = async function (e) {\r\n    e.preventDefault();\r\n    let response = await axios.post(\"http://localhost:8000/auth/resend-link\", {\r\n      verificationToken: verificationToken,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      console.log(verificationToken);\r\n      console.log(\"Lola\");\r\n      let response = await axios.post(\"http://localhost:8000/auth/verify-verification-token\", {\r\n        verificationToken: verificationToken,\r\n      });\r\n      if (response.data.error == \"Invalid verification token\") {\r\n        window.location.replace(\"http://localhost:3000\");\r\n      } else if (response.data.error) {\r\n        setButtonVisibility(\"block\");\r\n        setText(response.data.error);\r\n      } else {\r\n        setButtonVisibility(\"none\");\r\n        setText(response.data.data);\r\n      }\r\n      response = await axios.get(\r\n        \"http://localhost:8000/auth/verify-email/\" + verificationToken\r\n      );\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div class=\"flex-grow-1\">\r\n      <div className=\"row\">\r\n        <div className=\"h1 p-4 text-center\"> {text}</div>\r\n        <button\r\n          type=\"button\"\r\n          class={\r\n            \"btn btn-primary btn-lg col-2 mx-auto fw-bold d-\" + buttonVisibility\r\n          }\r\n          data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#exampleModal\"\r\n          onClick={handleResendLinkButton}\r\n        >\r\n          Resend link\r\n        </button>\r\n      </div>\r\n      {/* Modal for successfully resending verification link */}\r\n      <div\r\n        class=\"modal fade\"\r\n        data-bs-backdrop=\"static\"\r\n        data-bs-keyboard=\"false\"\r\n        id=\"exampleModal\"\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                Resend link successfully!\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\">Please check your email.</div>\r\n            <div class=\"modal-footer\">\r\n              <a className=\"btn btn-primary\" href=\"/login\">\r\n                Ok\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default EmailVerified;\r\n"]},"metadata":{},"sourceType":"module"}