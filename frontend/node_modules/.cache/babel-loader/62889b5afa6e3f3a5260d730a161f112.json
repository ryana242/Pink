{"ast":null,"code":"var _jsxFileName = \"H:\\\\3-2\\\\pink\\\\Pink\\\\frontend\\\\src\\\\Components\\\\resetPassword.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ResetPassword() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordErrorClass, setPasswordErrorClass] = useState(\"none\");\n  const [confirmPassErrorClass, setConfirmPassErrorClass] = useState(\"none\");\n  useEffect(() => {\n    async function fetchData() {\n      let response = await axios.post(\"http://localhost:8000/auth/verify-default-user\", {\n        UNID: id\n      });\n\n      if (response.data.error) {\n        window.location.replace(\"http://localhost:3000\");\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  async function handleUpdateButton(e) {\n    e.preventDefault();\n\n    if (password.length < 6) {\n      setPasswordErrorClass(\"block\");\n      return;\n    }\n\n    if (confirmPassword != password) {\n      setConfirmPassErrorClass(\"block\");\n      return;\n    }\n\n    let response = await axios.post(\"http://localhost:8000/auth/password-update\", {\n      UNID: id,\n      password: password\n    });\n    alert(response.data.data);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"flex-grow-1 background-color d-flex align-items-center justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row justify-content-center w-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-xl-4 col-lg-6 col-md-8 col-11 my-4 primary-background-color px-lg-5 pb-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"separator my-5 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-dark fw-light\",\n            children: \"Reset your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateButton,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setPassword(e.target.value);\n              },\n              onChange: e => {\n                setPasswordErrorClass(\"none\");\n              },\n              type: \"password\",\n              class: \"form-control\",\n              id: \"passwordInput\",\n              placeholder: \"New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + passwordErrorClass,\n              children: \"Password can't be less than 6 characters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setConfirmPassword(e.target.value);\n              },\n              onChange: e => {\n                setConfirmPassErrorClass(\"none\");\n              },\n              type: \"password\",\n              class: \"form-control\",\n              id: \"confirmPasswordInput\",\n              placeholder: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + confirmPassErrorClass,\n              children: \"Password doesn't match\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-block\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary w-100 fw-bold\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ResetPassword, \"KQJG8HSn9/+CeT9X9/RLNrizsVk=\", false, function () {\n  return [useParams];\n});\n\n_c = ResetPassword;\nexport default ResetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"sources":["H:/3-2/pink/Pink/frontend/src/Components/resetPassword.jsx"],"names":["axios","React","useState","useEffect","useParams","ResetPassword","id","password","setPassword","confirmPassword","setConfirmPassword","passwordErrorClass","setPasswordErrorClass","confirmPassErrorClass","setConfirmPassErrorClass","fetchData","response","post","UNID","data","error","window","location","replace","handleUpdateButton","e","preventDefault","length","alert","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction ResetPassword() {\r\n  const { id } = useParams();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [passwordErrorClass, setPasswordErrorClass] = useState(\"none\");\r\n  const [confirmPassErrorClass, setConfirmPassErrorClass] = useState(\"none\");\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let response = await axios.post(\r\n        \"http://localhost:8000/auth/verify-default-user\",\r\n        {\r\n          UNID: id,\r\n        }\r\n      );\r\n\r\n      if (response.data.error) {\r\n        window.location.replace(\"http://localhost:3000\");\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  async function handleUpdateButton(e) {\r\n    e.preventDefault();\r\n\r\n    if (password.length < 6) {\r\n      setPasswordErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (confirmPassword != password) {\r\n      setConfirmPassErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    let response = await axios.post(\r\n      \"http://localhost:8000/auth/password-update\",\r\n      {\r\n        UNID: id,\r\n        password: password,\r\n      }\r\n    );\r\n    alert(response.data.data);\r\n  }\r\n\r\n  return (\r\n    <div class=\"flex-grow-1 background-color d-flex align-items-center justify-content-center\">\r\n      <div class=\"row justify-content-center w-100\">\r\n        <div class=\"col-xl-4 col-lg-6 col-md-8 col-11 my-4 primary-background-color px-lg-5 pb-5\">\r\n          <div class=\"separator my-5 mb-4\">\r\n            <h1 className=\"text-dark fw-light\">Reset your password</h1>\r\n          </div>\r\n          <form onSubmit={handleUpdateButton}>\r\n            <div class=\"form-group mb-4\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setPasswordErrorClass(\"none\");\r\n                }}\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                id=\"passwordInput\"\r\n                placeholder=\"New Password\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + passwordErrorClass}>\r\n                Password can't be less than 6 characters\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group mb-4\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setConfirmPassword(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setConfirmPassErrorClass(\"none\");\r\n                }}\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                id=\"confirmPasswordInput\"\r\n                placeholder=\"Confirm Password\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + confirmPassErrorClass}>\r\n                Password doesn't match\r\n              </span>\r\n            </div>\r\n            <div className=\"d-block\">\r\n              <button type=\"submit\" class=\"btn btn-primary w-100 fw-bold\">\r\n                Update\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}