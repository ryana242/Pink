{"ast":null,"code":"var _jsxFileName = \"E:\\\\Academics CSEDU\\\\3-2\\\\Design Lab\\\\Project\\\\Pink\\\\frontend\\\\src\\\\Components\\\\register.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { Modal } from \"bootstrap\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  _s();\n\n  let navigate = useNavigate();\n  let ref = document.referrer;\n  const [fullName, setFullName] = useState(\"\");\n  const [nsuId, setNsuId] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [designation, setDesignation] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [nameErrorClass, setNameErrorClass] = useState(\"none\");\n  const [nsuIdErrorClass, setNsuIdErrorClass] = useState(\"none\");\n  const [emailErrorClass, setEmailErrorClass] = useState(\"none\");\n  const [designationErrorClass, setDesignationErrorClass] = useState(\"none\");\n  const [passwordErrorClass, setPasswordErrorClass] = useState(\"none\");\n  const [confirmPassErrorClass, setConfirmPassErrorClass] = useState(\"none\");\n  const [error, setError] = useState(\"\");\n  const [errorClass, setErrorClass] = useState(\"none\");\n  const [selectedFiles, setSelectedFiles] = useState({});\n  const [isFilePicked, setIsFilePicked] = useState(false);\n  const [idPhotoErrorClass, setIdPhotoErrorClass] = useState(\"none\");\n  const [Designations, setDesignations] = useState([{\n    label: \"Faculty\",\n    value: 1,\n    isDisabled: true\n  }, {\n    label: \"Student\",\n    value: 2,\n    isDisabled: true\n  }, {\n    label: \"RA / TA / Lab Instructor\",\n    value: 3,\n    isDisabled: true\n  }, {\n    label: \"Helper\",\n    value: 4,\n    isDisabled: true\n  }, {\n    label: \"Admin\",\n    value: 5,\n    isDisabled: true\n  }]);\n  const token = localStorage.getItem(\"userUNID\");\n  const clientId = \"992655217366-qiu0iegl7kmotoovl1630k6283o0jsuk.apps.googleusercontent.com\";\n\n  const validateEmail = () => {\n    return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) && email.length <= 320;\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      console.log(ref);\n\n      if (token) {\n        let response = await axios.post(\"http://localhost:8000/auth/verify-unid\", {\n          UNID: token\n        });\n\n        if (response.data.error) {\n          localStorage.clear();\n          window.location.replace(\"http://localhost:3000\");\n        }\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  async function handleSubmit(e) {\n    e.preventDefault(); //stops the page from reloading\n\n    if (fullName.length < 3 || fullName.length > 30) {\n      setNameErrorClass(\"block\");\n      return;\n    }\n\n    if (nsuId.length != 10) {\n      setNsuIdErrorClass(\"block\");\n      return;\n    }\n\n    if (!validateEmail()) {\n      setEmailErrorClass(\"block\");\n      return;\n    }\n\n    if (designation.length === 0) {\n      setDesignationErrorClass(\"block\");\n      return;\n    }\n\n    if (password.length < 6 || password.length > 30) {\n      setPasswordErrorClass(\"block\");\n      return;\n    }\n\n    if (confirmPassword != password) {\n      setConfirmPassErrorClass(\"block\");\n      return;\n    }\n\n    if (!isFilePicked) {\n      return setIdPhotoErrorClass(\"block\");\n    }\n\n    const formData = new FormData();\n    formData.append(\"fullName\", fullName);\n    formData.append(\"nsuId\", nsuId);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    formData.append(\"userType\", designation);\n    formData.append(\"file\", selectedFiles);\n    let response;\n\n    if (ref != \"http://localhost:3000/admin-homepage\") {\n      response = await axios.post(\"http://localhost:8000/auth/register\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n    } else {\n      response = await axios.post(\"http://localhost:8000/admin/create-account\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n    }\n\n    if (response.data.error) {\n      setErrorClass(\"block\");\n      setError(response.data.error);\n      return;\n    } else {\n      let myModal = new Modal(document.getElementById(\"exampleModal\"));\n      myModal.show();\n    }\n  }\n\n  const updateList = function (e) {\n    e.preventDefault();\n    const newFiles = e.target.files[0];\n\n    if (newFiles) {\n      setIsFilePicked(true);\n      setIdPhotoErrorClass(\"none\");\n    }\n\n    setSelectedFiles(newFiles);\n    e.target.value = \"\";\n  };\n\n  const handleCrossButton = function (e) {\n    e.preventDefault();\n    setSelectedFiles({});\n    setIsFilePicked(false);\n  };\n\n  if (token) {\n    window.location.replace(\"http://localhost:3000\");\n  }\n\n  async function onLoginSuccess(res) {\n    let response = await axios.post(\"http://localhost:8000/auth/google-accounts\", {\n      googleID: res.getAuthResponse().id_token\n    });\n\n    if (response.data.data) {\n      localStorage.setItem(\"userUNID\", response.data.data.UserUNID);\n      window.location.replace(\"http://localhost:3000\");\n    } else {\n      res.profileObj.googleID = res.getAuthResponse().id_token;\n      console.log(res.profileObj);\n      navigate(\"/google-registration\", {\n        state: res.profileObj\n      });\n    }\n  }\n\n  const onLoginFailure = res => {\n    console.log(\"Login Failed:\", res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"flex-grow-1 background-color d-flex align-items-center justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row justify-content-center w-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-xl-4 col-lg-6 col-md-8 col-11 my-4 primary-background-color px-lg-5 pb-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"separator my-5 \",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-dark fw-light\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          encType: \"multipart/form-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setFullName(e.target.value);\n              },\n              onChange: e => {\n                setNameErrorClass(\"none\");\n              },\n              type: \"text\",\n              class: \"form-control\",\n              id: \"fullNameInput\",\n              placeholder: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + nameErrorClass,\n              children: \"Full Name can't be less than 3 characters or more than 30 characters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setNsuId(e.target.value);\n              },\n              onChange: e => {\n                setNsuIdErrorClass(\"none\");\n              },\n              type: \"text\",\n              class: \"form-control\",\n              id: \"nsuIdInput\",\n              placeholder: \"Registration number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + nsuIdErrorClass,\n              children: \"Enter a valid Registration Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setEmail(e.target.value);\n              },\n              onChange: e => {\n                setEmailErrorClass(\"none\");\n                setDesignation(\"\");\n              }\n              /*onBlur={(e) => {\r\n                if (\r\n                  //email.length > 13 &&\r\n                  //email.substring(email.length - 14) === \"northsouth.edu\"\r\n                ) {\r\n                  setDesignations([\r\n                    { label: \"Faculty\", value: 1, isDisabled: false },\r\n                    { label: \"Student\", value: 2, isDisabled: false },\r\n                    {\r\n                      label: \"Lab Instructor\",\r\n                      value: 3,\r\n                      isDisabled: false,\r\n                    },\r\n                    { label: \"Helper\", value: 4, isDisabled: true },\r\n                    { label: \"Admin\", value: 5, isDisabled: false },\r\n                  ]);\r\n                } else if (validateEmail(email)) {\r\n                  setDesignations([\r\n                    { label: \"Faculty\", value: 1, isDisabled: true },\r\n                    { label: \"Student\", value: 2, isDisabled: true },\r\n                    {\r\n                      label: \"Lab Instructor\",\r\n                      value: 3,\r\n                      isDisabled: true,\r\n                    },\r\n                    { label: \"Helper\", value: 4, isDisabled: false },\r\n                    { label: \"Admin\", value: 5, isDisabled: true },\r\n                  ]);\r\n                }\r\n              }}*/\n              ,\n              onBlur: e => {\n                if (validateEmail(email)) {\n                  setDesignations([{\n                    label: \"Faculty\",\n                    value: 1,\n                    isDisabled: false\n                  }, {\n                    label: \"Student\",\n                    value: 2,\n                    isDisabled: false\n                  }, {\n                    label: \"Lab Instructor\",\n                    value: 3,\n                    isDisabled: false\n                  }, {\n                    label: \"Helper\",\n                    value: 4,\n                    isDisabled: false\n                  }, {\n                    label: \"Admin\",\n                    value: 5,\n                    isDisabled: false\n                  }]);\n                }\n              },\n              type: \"text\",\n              class: \"form-control\",\n              id: \"emailInput\",\n              placeholder: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + emailErrorClass,\n              children: \"Enter a valid email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group d-flex flex-column mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                options: Designations,\n                value: designation ? {\n                  label: designation\n                } : \"\",\n                placeholder: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: \"grey\"\n                  },\n                  children: \"Designation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 32\n                }, this),\n                onChange: e => {\n                  console.log(e);\n                  setDesignation(e.label);\n                  setDesignationErrorClass(\"none\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + designationErrorClass,\n              children: \"Please select your designation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4 d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setPassword(e.target.value);\n              },\n              onChange: e => {\n                setPasswordErrorClass(\"none\");\n              },\n              type: \"password\",\n              class: \"form-control\",\n              id: \"passwordInput\",\n              placeholder: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + passwordErrorClass,\n              children: \"Password can't be less than 6 characters or more than 30 characters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4 d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onInput: e => {\n                setConfirmPassword(e.target.value);\n              },\n              onChange: e => {\n                setConfirmPassErrorClass(\"none\");\n              },\n              type: \"password\",\n              class: \"form-control\",\n              id: \"confirmPasswordInput\",\n              placeholder: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-danger d-\" + confirmPassErrorClass,\n              children: \"Password doesn't match\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"button-attach ms-0\",\n              for: \"file\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"bi bi-paperclip me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), \"ID card Photo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"image/*\",\n              id: \"file\",\n              type: \"file\",\n              name: \"file\",\n              onChange: updateList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), isFilePicked ? /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"fileList\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                class: \"py-2 mb-0\",\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  class: \"d-flex justify-content-between align-items-center border rounded-3 border-3 border-light bg-white mt-2 ps-2\",\n                  children: [selectedFiles.name, /*#__PURE__*/_jsxDEV(\"button\", {\n                    class: \"btn btn-light\",\n                    onClick: e => handleCrossButton(e),\n                    children: [\" \", \"x\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"d-none\",\n              children: \"Select a file to show details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"mb-2 text-danger d-\" + idPhotoErrorClass,\n              children: \"Please attach your DU ID card photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"mb-2 text-danger d-\" + errorClass,\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary w-100 fw-bold\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: ref == \"http://localhost:3000/admin-homepage\" ? \"d-none\" : \"d-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n            class: \"my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n              clientId: clientId,\n              buttonText: \"Google Signup\",\n              onSuccess: onLoginSuccess,\n              onFailure: onLoginFailure,\n              cookiePolicy: \"single_host_origin\",\n              className: \"border border-2 border-dark rounded-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal fade\",\n          \"data-bs-backdrop\": \"static\",\n          \"data-bs-keyboard\": \"false\",\n          id: \"exampleModal\",\n          tabindex: \"-1\",\n          \"aria-labelledby\": \"exampleModalLabel\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-dialog modal-dialog-centered\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  class: \"modal-title\",\n                  id: \"exampleModalLabel\",\n                  children: \"Registration Successful!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"btn-close\",\n                  \"data-bs-dismiss\": \"modal\",\n                  \"aria-label\": \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-body\",\n                children: ref == \"http://localhost:3000/admin-homepage\" ? \"You may login now.\" : \"Please verify your email.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-footer\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-primary\",\n                  href: \"/login\",\n                  children: \"Ok\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"l+vxvZKxPHhmjm1CPA253t4qIvk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["E:/Academics CSEDU/3-2/Design Lab/Project/Pink/frontend/src/Components/register.jsx"],"names":["axios","React","useState","useEffect","Select","Modal","GoogleLogin","useNavigate","Register","navigate","ref","document","referrer","fullName","setFullName","nsuId","setNsuId","email","setEmail","designation","setDesignation","password","setPassword","confirmPassword","setConfirmPassword","nameErrorClass","setNameErrorClass","nsuIdErrorClass","setNsuIdErrorClass","emailErrorClass","setEmailErrorClass","designationErrorClass","setDesignationErrorClass","passwordErrorClass","setPasswordErrorClass","confirmPassErrorClass","setConfirmPassErrorClass","error","setError","errorClass","setErrorClass","selectedFiles","setSelectedFiles","isFilePicked","setIsFilePicked","idPhotoErrorClass","setIdPhotoErrorClass","Designations","setDesignations","label","value","isDisabled","token","localStorage","getItem","clientId","validateEmail","String","toLowerCase","match","length","fetchData","console","log","response","post","UNID","data","clear","window","location","replace","handleSubmit","e","preventDefault","formData","FormData","append","headers","myModal","getElementById","show","updateList","newFiles","target","files","handleCrossButton","onLoginSuccess","res","googleID","getAuthResponse","id_token","setItem","UserUNID","profileObj","state","onLoginFailure","color","name"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { Modal } from \"bootstrap\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Register() {\r\n  let navigate = useNavigate();\r\n  let ref = document.referrer;\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [nsuId, setNsuId] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [designation, setDesignation] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [nameErrorClass, setNameErrorClass] = useState(\"none\");\r\n  const [nsuIdErrorClass, setNsuIdErrorClass] = useState(\"none\");\r\n  const [emailErrorClass, setEmailErrorClass] = useState(\"none\");\r\n  const [designationErrorClass, setDesignationErrorClass] = useState(\"none\");\r\n  const [passwordErrorClass, setPasswordErrorClass] = useState(\"none\");\r\n  const [confirmPassErrorClass, setConfirmPassErrorClass] = useState(\"none\");\r\n  const [error, setError] = useState(\"\");\r\n  const [errorClass, setErrorClass] = useState(\"none\");\r\n  const [selectedFiles, setSelectedFiles] = useState({});\r\n  const [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [idPhotoErrorClass, setIdPhotoErrorClass] = useState(\"none\");\r\n  const [Designations, setDesignations] = useState([\r\n    { label: \"Faculty\", value: 1, isDisabled: true },\r\n    { label: \"Student\", value: 2, isDisabled: true },\r\n    {\r\n      label: \"RA / TA / Lab Instructor\",\r\n      value: 3,\r\n      isDisabled: true,\r\n    },\r\n    { label: \"Helper\", value: 4, isDisabled: true },\r\n    { label: \"Admin\", value: 5, isDisabled: true },\r\n  ]);\r\n\r\n  const token = localStorage.getItem(\"userUNID\");\r\n  const clientId =\r\n    \"992655217366-qiu0iegl7kmotoovl1630k6283o0jsuk.apps.googleusercontent.com\";\r\n\r\n  const validateEmail = () => {\r\n    return (\r\n      String(email)\r\n        .toLowerCase()\r\n        .match(\r\n          /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n        ) && email.length <= 320\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      console.log(ref);\r\n      if (token) {\r\n        let response = await axios.post(\r\n          \"http://localhost:8000/auth/verify-unid\",\r\n          {\r\n            UNID: token,\r\n          }\r\n        );\r\n        if (response.data.error) {\r\n          localStorage.clear();\r\n          window.location.replace(\"http://localhost:3000\");\r\n        }\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault(); //stops the page from reloading\r\n\r\n    if (fullName.length < 3 || fullName.length > 30) {\r\n      setNameErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (nsuId.length != 10) {\r\n      setNsuIdErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (!validateEmail()) {\r\n      setEmailErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (designation.length === 0) {\r\n      setDesignationErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6 || password.length > 30) {\r\n      setPasswordErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (confirmPassword != password) {\r\n      setConfirmPassErrorClass(\"block\");\r\n      return;\r\n    }\r\n\r\n    if (!isFilePicked) {\r\n      return setIdPhotoErrorClass(\"block\");\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"fullName\", fullName);\r\n    formData.append(\"nsuId\", nsuId);\r\n    formData.append(\"email\", email);\r\n    formData.append(\"password\", password);\r\n    formData.append(\"userType\", designation);\r\n    formData.append(\"file\", selectedFiles);\r\n\r\n    let response;\r\n    if(ref != \"http://localhost:3000/admin-homepage\") {\r\n      response = await axios.post(\r\n        \"http://localhost:8000/auth/register\",\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        }\r\n      );\r\n    } else {\r\n      response = await axios.post(\r\n        \"http://localhost:8000/admin/create-account\",\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        }\r\n      );\r\n    }\r\n    \r\n    if (response.data.error) {\r\n      setErrorClass(\"block\");\r\n      setError(response.data.error);\r\n      return;\r\n    } else {\r\n      let myModal = new Modal(document.getElementById(\"exampleModal\"));\r\n      myModal.show();\r\n    }\r\n  }\r\n\r\n  const updateList = function (e) {\r\n    e.preventDefault();\r\n    const newFiles = e.target.files[0];\r\n    if (newFiles) {\r\n      setIsFilePicked(true);\r\n      setIdPhotoErrorClass(\"none\");\r\n    }\r\n    setSelectedFiles(newFiles);\r\n    e.target.value = \"\";\r\n  };\r\n\r\n  const handleCrossButton = function (e) {\r\n    e.preventDefault();\r\n    setSelectedFiles({});\r\n    setIsFilePicked(false);\r\n  };\r\n\r\n  if (token) {\r\n    window.location.replace(\"http://localhost:3000\");\r\n  }\r\n\r\n  async function onLoginSuccess(res) {\r\n    let response = await axios.post(\r\n      \"http://localhost:8000/auth/google-accounts\",\r\n      {\r\n        googleID: res.getAuthResponse().id_token,\r\n      }\r\n    );\r\n    if (response.data.data) {\r\n      localStorage.setItem(\"userUNID\", response.data.data.UserUNID);\r\n      window.location.replace(\"http://localhost:3000\");\r\n    } else {\r\n      res.profileObj.googleID = res.getAuthResponse().id_token;\r\n      console.log(res.profileObj);\r\n      navigate(\"/google-registration\", { state: res.profileObj });\r\n    }\r\n  }\r\n\r\n  const onLoginFailure = (res) => {\r\n    console.log(\"Login Failed:\", res);\r\n  };\r\n\r\n  return (\r\n    <div class=\"flex-grow-1 background-color d-flex align-items-center justify-content-center\">\r\n      <div class=\"row justify-content-center w-100\">\r\n        <div class=\"col-xl-4 col-lg-6 col-md-8 col-11 my-4 primary-background-color px-lg-5 pb-5\">\r\n          <div class=\"separator my-5 \">\r\n            <h1 className=\"text-dark fw-light\">Register</h1>\r\n          </div>\r\n          <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n            <div class=\"form-group mb-4\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setFullName(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setNameErrorClass(\"none\");\r\n                }}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"fullNameInput\"\r\n                placeholder=\"Full Name\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + nameErrorClass}>\r\n                Full Name can't be less than 3 characters or more than 30\r\n                characters\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group mb-4\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setNsuId(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setNsuIdErrorClass(\"none\");\r\n                }}\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"nsuIdInput\"\r\n                placeholder=\"Registration number\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + nsuIdErrorClass}>\r\n                Enter a valid Registration Number\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group mb-4\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setEmailErrorClass(\"none\");\r\n                  setDesignation(\"\");\r\n                }}\r\n                /*onBlur={(e) => {\r\n                  if (\r\n                    //email.length > 13 &&\r\n                    //email.substring(email.length - 14) === \"northsouth.edu\"\r\n                  ) {\r\n                    setDesignations([\r\n                      { label: \"Faculty\", value: 1, isDisabled: false },\r\n                      { label: \"Student\", value: 2, isDisabled: false },\r\n                      {\r\n                        label: \"Lab Instructor\",\r\n                        value: 3,\r\n                        isDisabled: false,\r\n                      },\r\n                      { label: \"Helper\", value: 4, isDisabled: true },\r\n                      { label: \"Admin\", value: 5, isDisabled: false },\r\n                    ]);\r\n                  } else if (validateEmail(email)) {\r\n                    setDesignations([\r\n                      { label: \"Faculty\", value: 1, isDisabled: true },\r\n                      { label: \"Student\", value: 2, isDisabled: true },\r\n                      {\r\n                        label: \"Lab Instructor\",\r\n                        value: 3,\r\n                        isDisabled: true,\r\n                      },\r\n                      { label: \"Helper\", value: 4, isDisabled: false },\r\n                      { label: \"Admin\", value: 5, isDisabled: true },\r\n                    ]);\r\n                  }\r\n                }}*/\r\n                onBlur={(e) => {\r\n                  if (validateEmail(email)) {\r\n                    setDesignations([\r\n                      { label: \"Faculty\", value: 1, isDisabled: false },\r\n                      { label: \"Student\", value: 2, isDisabled: false },\r\n                      {\r\n                        label: \"Lab Instructor\",\r\n                        value: 3,\r\n                        isDisabled: false,\r\n                      },\r\n                      { label: \"Helper\", value: 4, isDisabled: false },\r\n                      { label: \"Admin\", value: 5, isDisabled: false },\r\n                    ]);\r\n                  }\r\n                }} \r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"emailInput\"\r\n                placeholder=\"Email\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + emailErrorClass}>\r\n                Enter a valid email\r\n              </span>\r\n            </div>\r\n            <div className=\"form-group d-flex flex-column mb-4\">\r\n              <div className=\"col-12\">\r\n                <Select\r\n                  options={Designations}\r\n                  value={designation ? { label: designation } : \"\"}\r\n                  placeholder={<div style={{ color: \"grey\" }}>Designation</div>}\r\n                  onChange={(e) => {\r\n                    console.log(e);\r\n                    setDesignation(e.label);\r\n                    setDesignationErrorClass(\"none\");\r\n                  }}\r\n                />\r\n              </div>\r\n              <span class={\"text-danger d-\" + designationErrorClass}>\r\n                Please select your designation\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group mb-4 d-flex\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setPasswordErrorClass(\"none\");\r\n                }}\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                id=\"passwordInput\"\r\n                placeholder=\"Password\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + passwordErrorClass}>\r\n                Password can't be less than 6 characters or more than 30\r\n                characters\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group mb-4 d-flex\">\r\n              <input\r\n                onInput={(e) => {\r\n                  setConfirmPassword(e.target.value);\r\n                }}\r\n                onChange={(e) => {\r\n                  setConfirmPassErrorClass(\"none\");\r\n                }}\r\n                type=\"password\"\r\n                class=\"form-control\"\r\n                id=\"confirmPasswordInput\"\r\n                placeholder=\"Confirm Password\"\r\n              ></input>\r\n              <span class={\"text-danger d-\" + confirmPassErrorClass}>\r\n                Password doesn't match\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group mb-4\">\r\n              <label class=\"button-attach ms-0\" for=\"file\">\r\n                <i class=\"bi bi-paperclip me-1\"></i>\r\n                ID card Photo\r\n              </label>\r\n              <input\r\n                accept=\"image/*\"\r\n                id=\"file\"\r\n                type=\"file\"\r\n                name=\"file\"\r\n                onChange={updateList}\r\n              ></input>\r\n              {isFilePicked ? (\r\n                <div id=\"fileList\">\r\n                  <ul class=\"py-2 mb-0\">\r\n                    <li class=\"d-flex justify-content-between align-items-center border rounded-3 border-3 border-light bg-white mt-2 ps-2\">\r\n                      {selectedFiles.name}\r\n                      <button\r\n                        class=\"btn btn-light\"\r\n                        onClick={(e) => handleCrossButton(e)}\r\n                      >\r\n                        {\" \"}\r\n                        x{\" \"}\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              ) : (\r\n                <p class=\"d-none\">Select a file to show details</p>\r\n              )}\r\n              <span class={\"mb-2 text-danger d-\" + idPhotoErrorClass}>\r\n                Please attach your DU ID card photo\r\n              </span>\r\n            </div>\r\n            <div className=\"d-block\">\r\n              <span class={\"mb-2 text-danger d-\" + errorClass}>{error}</span>\r\n              <button type=\"submit\" class=\"btn btn-primary w-100 fw-bold\">\r\n                Register\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <div className={ref == \"http://localhost:3000/admin-homepage\" ? \"d-none\" : \"d-block\"}>\r\n          <hr class=\"my-4\" />\r\n          <div className=\"d-flex justify-content-center\">\r\n            \r\n            <GoogleLogin\r\n              clientId={clientId}\r\n              buttonText=\"Google Signup\"\r\n              onSuccess={onLoginSuccess}\r\n              onFailure={onLoginFailure}\r\n              cookiePolicy={\"single_host_origin\"}\r\n              className=\"border border-2 border-dark rounded-2\"\r\n            />\r\n          </div>\r\n\r\n          </div>\r\n          \r\n          {/* Modal for successful Registration */}\r\n          <div\r\n            class=\"modal fade\"\r\n            data-bs-backdrop=\"static\"\r\n            data-bs-keyboard=\"false\"\r\n            id=\"exampleModal\"\r\n            tabindex=\"-1\"\r\n            aria-labelledby=\"exampleModalLabel\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <div class=\"modal-dialog modal-dialog-centered\">\r\n              <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                  <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                    Registration Successful!\r\n                  </h5>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                  ></button>\r\n                </div>\r\n                <div class=\"modal-body\">{ref == \"http://localhost:3000/admin-homepage\" ? \"You may login now.\": \"Please verify your email.\"}</div>\r\n                <div class=\"modal-footer\">\r\n                  <a className=\"btn btn-primary\" href=\"/login\">\r\n                    Ok\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}